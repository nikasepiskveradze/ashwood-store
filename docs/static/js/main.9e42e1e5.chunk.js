(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),s=a(7),o=a(13),i=a(2),m=a(3),u=a(5),d=a(4),p=a(6),h=a(20),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.number;return r.a.createElement("nav",{className:"navbar navbar-expand-lg bg-dark navbar-dark py-3"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/",className:"navbar-brand mr-5"},"Ashwood University"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapseNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-between",id:"collapseNavbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(s.c,{to:"/",className:"nav-item nav-link"},"Home"),r.a.createElement(s.c,{to:"/products",className:"nav-item nav-link"},"Products"),r.a.createElement(s.c,{to:"/about",className:"nav-item nav-link"},"About"),r.a.createElement(s.c,{to:"/contact",className:"nav-item nav-link"},"Contact Us")),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(s.c,{to:"/cart",className:"nav-item nav-link"},r.a.createElement("i",{className:"fa fa-shopping-cart"}," ",r.a.createElement("span",{className:"badge badge-light counter"},a))),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{to:"/login",className:"nav-item nav-link"},"Login"),r.a.createElement(s.c,{to:"/register",className:"nav-item nav-link"},"Register")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{to:"/profile",className:"nav-item nav-link"},"Profile"),r.a.createElement(s.c,{to:"/logout",className:"nav-item nav-link"},"Log Out"))))))}}]),t}(n.Component),E=a(1),b=a.n(E),g=a(9),f=function(){return r.a.createElement("section",{id:"showcase"},r.a.createElement("div",{className:"showcase-overlay"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"showcase-content text-left text-sm-center"},r.a.createElement("h1",{className:"display-4 font-weight-bold"},"WEAR YOUR UNIVERSITY WITH YOU"),r.a.createElement("p",{className:"mt-3 text-center"},"Ashwood University's online shop.")))))},N=function(){return r.a.createElement("div",{id:"section-1",className:"py-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 d-flex mb-2"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-truck"})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",{className:"text-uppercase"},"Free Shipping"),r.a.createElement("p",null,"We offer free shipping around the city or any place where you want. also it your shipping is very fast and reliable."))),r.a.createElement("div",{className:"col-md-4 d-flex mb-2"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-refresh"})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",{className:"text-uppercase"},"Free Returns"),r.a.createElement("p",null,"Your service is guaranty you to return any products if something is not good, we can return products without any cost."))),r.a.createElement("div",{className:"col-md-4 d-flex"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-question-circle"})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",{className:"text-uppercase"},"Customer Support"),r.a.createElement("p",null,"We can give you a nice and fast customer support, any time of day It is very simple and good for people."))))))},y=function(e){var t=e.itemInfo,a=t._id,n=t.title,c=t.image,l=t.short,o=t.price;return r.a.createElement("div",{className:"card mx-1 my-3",style:{width:350,height:450}},r.a.createElement("img",{className:"card-img-top",src:"http://localhost:5000/".concat(c),alt:"",height:"300"}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(s.b,{to:"/products/".concat(a)},n)),r.a.createElement("p",{className:"card-text"},l),r.a.createElement("p",{className:"card-text"},o,"$")))},w=a(42),O=a.n(w),k=function(e){return r.a.createElement("section",{id:"featured",className:"bg-light py-5"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center py-3"},"Newest Products"),r.a.createElement("div",null,r.a.createElement(O.a,{className:"slider variable-width",dots:!0,infinite:!0,autoplay:!0,centerMode:!0,variableWidth:!0,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,autoplaySpeed:3e3},e.featured.map(function(e){return r.a.createElement(y,{key:e._id,itemInfo:e})})))))},x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{id:"footer-section",className:"text-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row upper-footer"},r.a.createElement("div",{className:"col-md-4 pb-4"},r.a.createElement("h6",null,"LOCATION"),r.a.createElement("p",{className:"text-secondary w-50 m-auto"},"2313 Melcrose Place Beverly Hills, CA 90012")),r.a.createElement("div",{className:"col-md-4 pb-4"},r.a.createElement("h6",{className:""},"SHARE WITH LOVE"),r.a.createElement("a",{href:"/"},r.a.createElement("span",{className:"fa fa-facebook"})),r.a.createElement("a",{href:"/"},r.a.createElement("span",{className:"fa fa-google"})),r.a.createElement("a",{href:"/"},r.a.createElement("span",{className:"fa fa-instagram"}))),r.a.createElement("div",{className:"col-md-4 pb-4"},r.a.createElement("h6",null,"Ashwood University"),r.a.createElement("p",{className:"text-secondary m-auto"},"Ashwood University's online shop, choose your university"))))),r.a.createElement("div",{className:"below-footer py-3 text-center"},r.a.createElement("p",{className:"text-muted"},"Copyright \xa9 2019. All Right Reserved")))}}]),t}(n.Component),j=a(24),C=a.n(j),S={get:C.a.get,post:C.a.post,put:C.a.put,delete:C.a.delete},I=a(11),T=a(43),P=a.n(T),A="".concat(I.a,"/login"),D="token";function q(e,t){return F.apply(this,arguments)}function F(){return(F=Object(g.a)(b.a.mark(function e(t,a){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post(A,{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem(D,r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return localStorage.getItem(D)}var B=_(),H="".concat(I.a,"/products");function M(){return S.get(H)}function R(e){return S.get("".concat(H,"/").concat(e))}function U(e){var t=new FormData;return t.set("title",e.title),t.set("category",e.category),t.set("short",e.short),t.set("long",e.long),e.image&&t.set("image",e.image,e.image.name),t.set("price",e.price),e._id?S.put("".concat(H,"/").concat(e._id),t,{headers:{"x-auth-token":B}}):S.post("".concat(H),t,{headers:{"x-auth-token":B}})}var z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={featured:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,a=t.data,n=a.filter(function(e){return e.createdAt}).reverse().slice(0,6),this.setState({featured:n});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(N,null),r.a.createElement(k,{featured:this.state.featured}),r.a.createElement(x,null))}}]),t}(n.Component),L=a(18),W=a.n(L),$=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.product,t=e._id,a=e.title,n=e.short,c=e.image,l=e.price;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"http://localhost:5000/".concat(c),alt:""}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(s.b,{to:"/products/".concat(t)},a)),r.a.createElement("p",{className:"card-text"},n),r.a.createElement("p",{className:"card-text"},l,"$"),r.a.createElement("p",null,r.a.createElement("button",{onClick:this.props.onClick},"Add To Card"))))}}]),t}(n.Component),Y=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,c=e.onPageChange,l=Math.ceil(t/a);if(1===l)return null;var s=W.a.range(1,l+1);return r.a.createElement("nav",{className:"ul pagination"},s.map(function(e){return r.a.createElement("li",{key:e,className:e===n?"page-item active":"page-item"},r.a.createElement("button",{onClick:function(){return c(e)},className:"page-link"},e))}))},Q=function(e){var t=e.items,a=e.onItemSelect,n=e.selectedItem;return r.a.createElement("div",{className:"single category"},r.a.createElement("ul",{className:"list-unstyled"},t.map(function(e){return r.a.createElement("li",{onClick:function(){return a(e)},key:e._id,className:e===n?"category-active":""},e.name)})))},V=function(e){var t=e.value,a=e.onChange,n=e.onFilter;return r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend "},r.a.createElement("button",{className:"btn btn-info dropdown-toggle",type:"button","data-toggle":"dropdown"},"Filter By"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("button",{onClick:function(){return n("asc")},className:"dropdown-item btn btn-light"},"Ascending Order (A-Z)"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{onClick:function(){return n("desc")},className:"dropdown-item btn btn-light"},"Descending Order (Z-A)"))),r.a.createElement("input",{type:"text",name:"query",className:"form-control ",placeholder:"Search products...",value:t,onChange:function(e){return a(e.currentTarget.value)}}),r.a.createElement("div",{className:"input-group-append "},r.a.createElement("button",{className:"btn btn-info"},r.a.createElement("i",{className:"fa fa-search"}))))},J=_(),G="".concat(I.a,"/category");function Z(){return S.get(G)}function K(e,t,a){var n=(t-1)*a;return W()(e).slice(n).take(a).value()}var X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],categories:[],pageSize:9,currentPage:1,selectedCategory:null,selectedOrder:null,searchQuery:""},a.handleFilterSelect=function(e){a.setState({selectedOrder:e,selectedCategory:null,searchQuery:"",currentPage:1})},a.handlePageChange=function(e){a.setState({currentPage:e})},a.handleCategorySelect=function(e){a.setState({selectedCategory:e,searchQuery:"",currentPage:1})},a.handleSearch=function(e){a.setState({searchQuery:e,selectedCategory:null,currentPage:1})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n,r,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return t=e.sent,a=t.data,n=[{_id:null,name:"All Categories"}].concat(Object(o.a)(a)),e.next=7,M();case 7:r=e.sent,c=r.data,l=c.reverse(),this.setState({products:l,categories:n});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.pageSize,c=t.currentPage,l=t.categories,s=t.selectedCategory,o=t.selectedOrder,i=t.searchQuery,m=a;i?m=a.filter(function(e){return e.title.toLowerCase().startsWith(i.toLowerCase())}):s&&s._id?m=a.filter(function(e){return e.category._id===s._id}):o&&(m=W.a.orderBy(a,["title"],[o]));var u=K(m,c,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"products",className:"bg-light  py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 mb-2"},r.a.createElement(Q,{items:l,selectedItem:s,onItemSelect:this.handleCategorySelect})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(V,{value:i,onFilter:this.handleFilterSelect,onChange:this.handleSearch}),r.a.createElement("div",{className:"card-columns"},u.map(function(t){return r.a.createElement($,{key:t._id,product:t,onClick:function(){return e.props.onClick(t)}})})),r.a.createElement(Y,{itemsCount:m.length,pageSize:n,currentPage:c,onPageChange:this.handlePageChange}))))),r.a.createElement(x,null))}}]),t}(n.Component),ee=a(44),te=a.n(ee),ae=a(45),ne=a.n(ae),re=a(46),ce=a.n(re),le=a(47),se=a.n(le),oe={width:"120px",height:"120px",margin:"30px auto",display:"block",background:"white"},ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid w-75 mb-5 mt-5 pt-5"},r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-sm-12 col-md-7 col-lg-6 mb-5"},r.a.createElement("img",{src:se.a,className:"img-fluid",alt:""})),r.a.createElement("div",{className:"col-sm-12 col-md-5 col-lg-6 mb-5"},r.a.createElement("h2",{className:"mb-3"},"How We Started"),r.a.createElement("div",{className:"d-block text-muted font-weight-lighter"},"Our story began in 2009 from university, set up the company while working at the same time on a social web startup and for clients. From the beginning we were passionate about both making software and the effects great products have on people."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"container-fluid",style:{height:"2px",width:"60px",background:"#394163"}}),r.a.createElement("h4",{className:"text-center mt-3 mb-3"},"The Team")),r.a.createElement("div",{className:"col-sm-12 col-md-4 pb-5 container"},r.a.createElement("img",{className:"rounded-circle img-fluid team-pictures",style:oe,src:te.a,alt:""}),r.a.createElement("h5",{className:"text-center font-weight-light"},"Nika Sepiskveradze"),r.a.createElement("h6",{className:"d-block text-center font-weigh-light text-uppercase text-muted font-weight-lighter"},"Back-End Developer"),r.a.createElement("br",null),r.a.createElement("span",{className:"d-block text-center text-muted font-weight-lighter mb-3"},"Very talented and exprienced Back-End Developer, whose goal is to improve his knowledge everyday.")),r.a.createElement("div",{className:"col-sm-12 col-md-4 pb-5 container"},r.a.createElement("img",{className:"rounded-circle img-fluid",style:oe,src:ne.a,alt:""}),r.a.createElement("h5",{className:"text-center font-weight-light"},"Ketevan Natobaidze"),r.a.createElement("h6",{className:"d-block text-center font-weigh-light text-uppercase text-muted font-weight-lighter"},"Front-End Developer"),r.a.createElement("br",null),r.a.createElement("span",{className:"d-block text-center text-muted font-weight-lighter mb-3 "},"Exprienced, Developer whose dedication is very high and the knowledge is remarkable.")),r.a.createElement("div",{className:"col-sm-12 col-md-4 pb-5 container"},r.a.createElement("img",{className:"rounded-circle img-fluid team-pictures",style:oe,src:ce.a,alt:""}),r.a.createElement("h5",{className:"text-center font-weight-light"},"Tamar Menteshashvili"),r.a.createElement("h6",{className:"d-block text-center font-weigh-light text-uppercase text-muted font-weight-lighter"},"Fron-End Developer"),r.a.createElement("br",null),r.a.createElement("span",{className:"d-block text-center text-muted font-weight-lighter mb-3"},"Talented, Front-End Developer with huge amount of energy and passion for programming.")))),r.a.createElement(x,null))}}]),t}(n.Component),me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"contact",className:"contact-bg-image pt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("i",{className:"fa fa-map-marker",style:{fontSize:25}}),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",{className:"pb-2"},"Address"),r.a.createElement("div",null,"Mada Center 8th floor, 379 Hudson St, New York, NY 10018 US"))),r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("i",{className:"fa fa-phone",style:{fontSize:25}}),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",{className:"pb-2"},"Lets Talk"),r.a.createElement("div",null,"+1 800 1236879"))),r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("i",{className:"fa fa-envelope",style:{fontSize:25}}),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",{className:"pb-2"},"General Support"),r.a.createElement("div",null,"contact@ashwood.com"))))),r.a.createElement("iframe",{className:"w-100",height:"500",id:"gmap_canvas",src:"https://maps.google.com/maps?q=Tbilisi&t=&z=13&ie=UTF8&iwloc=&output=embed",frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0",title:"Map"}),r.a.createElement(x,null))},ue=a(12),de=a(8),pe=a.n(de),he=a(23),ve=a(22),Ee=function(e){var t=e.name,a=e.label,n=e.error,c=Object(ve.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a,":"),r.a.createElement("input",Object.assign({},c,{name:t,className:"form-control",id:t})),n&&r.a.createElement("div",{className:"alert alert-danger mt-1"},n))},be=function(e){var t=e.name,a=e.label,n=e.options,c=e.error,l=Object(ve.a)(e,["name","label","options","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("select",Object.assign({name:t,id:t},l,{className:"form-control"}),r.a.createElement("option",{value:""}),n.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})),c&&r.a.createElement("div",{className:"alert alert-danger mt-1"},c))},ge=function(e){var t=e.name,a=e.label,n=e.error,c=Object(ve.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("textarea",Object.assign({name:t,id:t},c,{className:"form-control",rows:"5"})),n&&r.a.createElement("div",{className:"alert alert-danger mt-1"},n))},fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.validate=function(){var e=pe.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},n=!0,r=!1,c=void 0;try{for(var l,s=e.details[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var o=l.value;t[o.path[0]]=o.message}}catch(i){r=!0,c=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(he.a)({},t,n),c=Object(he.a)({},t,a.schema[t]),l=pe.a.validate(r,c).error;return l?l.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.handleChange=function(e){var t=e.currentTarget,n=Object(ue.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var c=Object(ue.a)({},a.state.data);c[t.name]=t.value,a.setState({data:c,errors:n})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate(),type:"submit",className:"btn btn-primary"},e)}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,c=n.data,l=n.errors;return r.a.createElement(Ee,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:l[e]})}},{key:"renderTextarea",value:function(e,t){var a=this.state,n=a.data,c=a.errors;return r.a.createElement(ge,{name:e,value:n[e],label:t,onChange:this.handleChange,error:c[e]})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,c=n.data,l=n.errors;return r.a.createElement(be,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:l[e]})}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},errors:{}},a.schema={email:pe.a.string().required().label("Username"),password:pe.a.string().required().label("Password")},a.doSubmit=Object(g.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.data,e.next=4,q(t.email,t.password);case 4:window.location="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&((n=Object(ue.a)({},a.state.errors)).email=e.t0.response.data,a.setState({errors:n}));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-form py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7 m-auto"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("email","Email"),this.renderInput("password","Password","password"),this.renderButton("Login"))))))}}]),t}(fe),ye="".concat(I.a,"/users");var we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",email:"",password:"",age:"",birthday:"",balance:""},errors:{}},a.schema={name:pe.a.string().required().label("Name"),email:pe.a.string().required().email().label("Email"),password:pe.a.string().required().min(5).label("Password"),age:pe.a.number().required().label("Age"),birthday:pe.a.string().required().label("Birthday"),balance:pe.a.number().required().label("Balance")},a.doSubmit=Object(g.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=a.state.data,S.post(ye,W.a.pick(c,["name","email","password","age","birthday","balance"]));case 3:t=e.sent,r=t.headers["x-auth-token"],localStorage.setItem(D,r),window.location="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&((n=Object(ue.a)({},a.state.errors)).email=e.t0.response.data,a.setState({errors:n}));case 11:case"end":return e.stop()}var r,c},e,null,[[0,8]])})),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"register-form py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7 m-auto"},r.a.createElement("h2",null,"Registration"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name and Lastname"),this.renderInput("email","Email"),this.renderInput("password","Passwowrd","password"),this.renderInput("age","Age","number"),this.renderInput("birthday","Birth","date"),this.renderInput("balance","Balance","number"),this.renderButton("Register"))))))}}]),t}(fe),Oe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem(D),window.location="/"}},{key:"render",value:function(){return null}}]),t}(n.Component),ke=_(),xe="".concat(I.a,"/comments");function je(e){return S.post(xe,e,{headers:{"x-auth-token":ke}})}var Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={product:{title:"",short:"",long:"",image:"",price:""},comment:{value:""},comments:[]},a.handleComment=function(){var e=Object(g.a)(b.a.mark(function e(t){var n,r,c,l,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.match.params.id,r=a.state.comment.value,e.next=5,je({productId:n,comment:r});case 5:c=e.sent,l=c.data,s=[l].concat(Object(o.a)(a.state.comments)),a.setState({comment:{value:""},comments:s});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCommentChange=function(e){a.setState({comment:{value:e.currentTarget.value}})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n,r,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,R(t);case 3:return a=e.sent,n=a.data,e.next=7,s=t,S.get("".concat(xe,"/").concat(s));case 7:r=e.sent,c=r.data,l=c.reverse(),this.setState({product:n,comment:{value:""},comments:l});case 11:case"end":return e.stop()}var s},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.product,a=t.title,n=t.long,c=t.image,l=t.price,s=this.props.user;return r.a.createElement("div",{id:"productDetail",className:" py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{src:"http://localhost:5000/".concat(c),alt:"",className:"img-fluid"})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",{className:"text-black mb-3",style:{textDecoration:"underline",cursor:"pointer"}},a),r.a.createElement("div",{className:"text-muted mb-1"},"Description: "),r.a.createElement("div",{className:"text-muted mb-4"},n),r.a.createElement("p",null,r.a.createElement("strong",{className:"text-primary h4"},"Price: ",l,"$")),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.props.onClick(e.state.product)},className:"add-to-card"},"Add To Card")))),r.a.createElement("ul",{className:"nav nav-tabs mt-4"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:s?"nav-link":"nav-link active",href:"#comments","data-toggle":"tab"},"Comments")),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active",href:"#add","data-toggle":"tab"},"Add Comments")))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{id:"comments",className:s?"tab-pane fade show":"tab-pane fade show active"},r.a.createElement("ul",{className:"media-list col-md-12"},!this.state.comments.length&&r.a.createElement("h4",null,"There are no reviews..."),this.state.comments.map(function(e){return r.a.createElement("li",{key:e._id,className:"media media-replied mb-2"},r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"card card-body bg-light"},r.a.createElement("h5",{className:"card-title media-heading text-uppercase reviews"},e.name),r.a.createElement("p",{className:"media-comment"},e.comment))))}))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"add",className:"tab-pane fade show active"},r.a.createElement("form",{onSubmit:this.handleComment},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"comment",className:"col-sm-2"},"Comment"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{value:this.state.comment.value,onChange:this.handleCommentChange,name:"addComment",id:"comment",className:"form-control",rows:"5",placeholder:"Enter your comment here..."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("button",{type:"submit",onClick:this.handleComment,className:"btn btn-success btn-circle text-uppercase"},"Submit Comment")))))))))}}]),t}(n.Component),Se=function(e){var t=e.orders;return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered text-center mt-2"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"))),r.a.createElement("tbody",null,t.reverse().map(function(e){return r.a.createElement("tr",{key:Math.random()},r.a.createElement("td",null,r.a.createElement("img",{src:"http://localhost:5000/".concat(e.image),alt:"",style:{width:200}})),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},e.title)),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},e.short)),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},e.quantity)),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},e.category.name)),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},e.price)))}))))},Ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.edit,n=e.handleChange,c=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-2"},"Name"),a?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{name:"name",type:"text",value:t.name,className:"form-control",onChange:n})):r.a.createElement("div",{className:"col-md-4"},t.name)),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-2"},"Email"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-4 ml-0"},r.a.createElement("input",{name:"email",type:"text",value:t.email,className:"form-control",onChange:n}),c.email&&r.a.createElement("div",{className:"alert alert-danger mt-2"},c.email))):r.a.createElement("div",{className:"col-md-4"},t.email)),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-2"},"Age"),a?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{name:"age",type:"text",value:t.age,className:" form-control",onChange:n})):r.a.createElement("div",{className:"col-md-4"},t.age)),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-2"},"Birthday"),a?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{name:"birthday",type:"date",value:t.birthday,className:"form-control",onChange:n})):r.a.createElement("div",{className:"col-md-4"},t.birthday)),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-2"},"Balance"),r.a.createElement("div",{className:"col-md-4"},t.balance,"$")))}}]),t}(n.Component),Te=_(),Pe="".concat(I.a,"/users/me");function Ae(){return S.get(Pe,{headers:{"x-auth-token":Te}})}var De=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{user:{name:"",email:"",age:"",birthday:"",balance:""},orders:[]},edit:!1,errors:{}},a.submitEditChange=Object(g.a)(b.a.mark(function e(){var t,n,r,c,l,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.profile.user,n=t.name,r=t.email,c=t.age,l=t.birthday,e.next=4,o={name:n,email:r,age:c,birthday:l},S.put(Pe,o,{headers:{"x-auth-token":Te}});case 4:a.setState({edit:!1,errors:{}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&((s=Object(ue.a)({},a.state.errors)).email=e.t0.response.data,a.setState({errors:s}));case 10:case"end":return e.stop()}var o},e,null,[[0,7]])})),a.handleEditInfo=function(){var e=!a.state.edit;a.setState({edit:e})},a.handleEditChange=function(e){var t=Object(ue.a)({},a.state.profile);t.user[e.currentTarget.name]=e.currentTarget.value,a.setState({profile:t})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,a=t.data,this.setState({profile:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.profile,t=e.user,a=e.orders;return r.a.createElement("div",{id:"profile",className:"py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mb-3"},"My Profile"),t.isAdmin&&r.a.createElement(s.b,{to:"/dashboard",className:"btn btn-success mb-2 mr-2"},"Dashboard"),r.a.createElement("button",{className:"btn btn-info mb-2",onClick:this.handleEditInfo},"Edit User Info"),r.a.createElement("button",{className:this.state.edit?"btn btn-primary mb-2 ml-2":"btn btn-primary mb-2 ml-2 disabled",onClick:this.submitEditChange},"Update User Info"),r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active",href:"#about","data-toggle":"tab"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#bought","data-toggle":"tab"},"Bought Items"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{id:"about",className:"tab-pane fade show active"},r.a.createElement(Ie,{user:t,edit:this.state.edit,handleChange:this.handleEditChange,errors:this.state.errors})),r.a.createElement("div",{id:"bought",className:"tab-pane fade"},0===a.length?r.a.createElement("h2",{className:"mt-2"},"No Items Bought"):r.a.createElement(Se,{orders:a})))))}}]),t}(n.Component),qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(){},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mb-5"},r.a.createElement("div",{className:"input-group mb-3",style:{maxWidth:120,margin:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.props.onHandleDecrement},"-")),r.a.createElement("input",{type:"text",className:"form-control text-center",value:this.props.quantity,onChange:this.handleChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.props.onHandleIncrement},"+"))))}}]),t}(n.Component),Fe=function(){return r.a.createElement("div",{className:"py-5",id:"no-items"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 m-auto text-center"},r.a.createElement("div",{className:"py-3"},r.a.createElement("i",{className:"fa fa-shopping-cart",style:{fontSize:120}})),r.a.createElement("h2",{className:"mb-3"},"YOUR SHOPPING CART IS EMPTY"),r.a.createElement(s.b,{to:"/products",className:"btn btn-primary px-4"},"RETURN TO SHOP")))))},_e=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cart,n=t.user;if(0===a.length)return r.a.createElement(Fe,null);var c=n?"/checkout":"/login";return r.a.createElement("div",{id:"cart",className:"py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Remove"))),r.a.createElement("tbody",null,a.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement("img",{src:"http://localhost:5000/".concat(t.image),alt:"",style:{width:200}})),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("h2",{className:"h5"},t.short)),r.a.createElement("td",{style:{paddingTop:70}},t.price,"$"),r.a.createElement("td",{style:{paddingTop:70,width:150}},r.a.createElement(qe,{onHandleIncrement:function(){return e.props.onHandleIncrement(t)},onHandleDecrement:function(){return e.props.onHandleDecrement(t)},quantity:t.quantity})),r.a.createElement("td",{style:{paddingTop:70}},t.quantity*t.price,"$"),r.a.createElement("td",{style:{paddingTop:70}},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.onHandleRemove(t)}},"X")))})))),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-4 offset-8 text-right"},r.a.createElement("h2",{className:"pb-2"},"Total: ",this.props.total,"$"),r.a.createElement(s.b,{to:c,className:"btn btn-primary text-right px-3 py-2"},"Process Checkout")))))}}]),t}(n.Component),Be="cart";function He(){return JSON.parse(localStorage.getItem(Be))}function Me(e){localStorage.setItem(Be,JSON.stringify(e))}var Re=_(),Ue="".concat(I.a,"/orders");function ze(e,t){return Re?S.post(Ue,{customer:e,cart:t},{headers:{"x-auth-token":Re}}):null}var Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cart:[],data:{firstname:"",lastname:"",country:"",address:"",city:"",phone:"",email:""},errors:{}},a.schema={firstname:pe.a.string().required().label("Firstname"),lastname:pe.a.string().required().label("Lastname"),country:pe.a.string().required().label("Country"),address:pe.a.string().required().label("Address"),city:pe.a.string().required().label("City"),phone:pe.a.string().required().label("Phone"),email:pe.a.string().required().email().label("Email")},a.doSubmit=Object(g.a)(b.a.mark(function e(){var t,n,r,c,l,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state,n=t.data,r=t.cart,c=t.user,l=a.props.total,s=parseInt(c.user.balance-l),e.next=6,ze(n,r);case 6:return e.next=8,o=s,S.put("".concat(I.a,"/users/checkout"),{balance:o},{headers:{"x-auth-token":Te}});case 8:localStorage.removeItem(Be),window.location="/thanks",e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}var o},e,null,[[0,12]])})),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=He(),e.next=3,Ae();case 3:a=e.sent,n=a.data,console.log(n),this.setState({cart:t,user:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"checkout",className:"py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Checkout"),r.a.createElement("p",{className:"lead"},"Please fill all the field to successfully purchase your products.")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 order-sm-2 order-md-1"},r.a.createElement("h2",null,"Checkout Info"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("firstname","Firstname"),this.renderInput("lastname","Lastname"),this.renderInput("country","Country"),this.renderInput("address","Address"),this.renderInput("city","City"),this.renderInput("phone","Phone Number"),this.renderInput("email","Email Address"),this.renderButton("Place Order"))),r.a.createElement("div",{className:"col-md-6 order-sm-1 order-md-2"},r.a.createElement("h2",{className:"py-3"},"Review Order"),r.a.createElement("div",{className:"list-group"},this.state.cart.map(function(e){return r.a.createElement("div",{key:e._id,className:"list-group-item d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("div",null,"Product: ",e.title),r.a.createElement("div",null,"Quantity: ",e.quantity)),r.a.createElement("div",null,e.price,"$"))})),r.a.createElement("h2",{className:"text-right mt-3"},"Total: ",this.props.total,"$")))))}}]),t}(fe),We=function(){return r.a.createElement("div",{id:"thanks",className:"py-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("span",{className:"fa fa-check-circle text-success",style:{fontSize:70}}),r.a.createElement("h2",{className:"display-3 text-black"},"Thank you!"),r.a.createElement("p",{className:"lead mb-5"},"You order was successfuly completed."),r.a.createElement("p",null,r.a.createElement(s.b,{to:"/products",className:"btn btn-primary px-4 py-2"},"Back to shop"))))))},$e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],categories:[],category:{value:""},pageSize:5,currentPage:1},a.handlePageChange=function(e){a.setState({currentPage:e})},a.handleProductDelete=function(){var e=Object(g.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.a)(a.state.products),r=n.indexOf(t),n.splice(r,1),e.next=5,c=t._id,S.delete("".concat(H,"/").concat(c),{headers:{"x-auth-token":B}});case 5:a.setState({products:n});case 6:case"end":return e.stop()}var c},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCategory=function(e){var t=Object(ue.a)({},a.state.category);t.value=e.currentTarget.value,a.setState({category:t})},a.handleDeleteCategory=function(){var e=Object(g.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.a)(a.state.categories),r=n.indexOf(t),n.splice(r,1),e.next=5,c=t._id,S.delete("".concat(G,"/").concat(c),{headers:{"x-auth-token":J}});case 5:a.setState({categories:n});case 6:case"end":return e.stop()}var c},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmitCategory=function(){var e=Object(g.a)(b.a.mark(function e(t){var n,r,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l=a.state.category.value,S.post(G,{name:l},{headers:{"x-auth-token":J}});case 3:n=e.sent,r=n.data,c=[].concat(Object(o.a)(a.state.categories),[r]),a.setState({categories:c,category:{value:""}});case 7:case"end":return e.stop()}var l},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n,r,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,a=t.data,e.next=6,Z();case 6:n=e.sent,r=n.data,c=a.reverse(),this.setState({products:c,categories:r});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.categories,c=t.pageSize,l=t.currentPage,o=K(a,l,c);return r.a.createElement("div",{id:"dashborad",className:"py-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h2",{className:"mb-3"},"Products Dashboard"),r.a.createElement(s.b,{to:"/products/new",className:"btn btn-primary mb-2"},"New Product"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,o.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.category.name),r.a.createElement("td",null,t.short),r.a.createElement("td",null,t.price),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/products/edit/".concat(t._id)},r.a.createElement("button",{className:"btn btn-info"},"Edit"))),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.handleProductDelete(t)},className:"btn btn-danger"},"Delete")))})))),r.a.createElement(Y,{itemsCount:a.length,pageSize:c,currentPage:l,onPageChange:this.handlePageChange})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h2",null,"Add Category"),r.a.createElement("form",{onSubmit:this.handleSubmitCategory},r.a.createElement("input",{type:"text",placeholder:"Enter Category",className:"form-control",value:this.state.category.value,onChange:this.handleCategory})),r.a.createElement("div",{className:"list-group mt-3"},n.map(function(t){return r.a.createElement("div",{key:t._id,className:"list-group-item mb-2 d-flex justify-content-between align-items-center"},t.name," ",r.a.createElement("div",{onClick:function(){return e.handleDeleteCategory(t)},className:"fa fa-remove"}))}))))))}}]),t}(n.Component),Ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",short:"",long:"",price:"",category:""},categories:[],errors:{}},a.schema={_id:pe.a.string(),title:pe.a.string().required().label("Title"),short:pe.a.string().required().label("Short Description"),long:pe.a.string().required().label("Long Description"),price:pe.a.string().required().label("Price"),category:pe.a.string().required().label("Category")},a.doSubmit=Object(g.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Object(ue.a)({},a.state.data)).image=a.state.file,e.next=4,U(t);case 4:a.props.history.push("/dashboard");case 5:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark(function e(){var t,a,n,r,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:if(t=e.sent,a=t.data,this.setState({categories:a}),"new"!==(n=this.props.match.url.split("/"))[2]){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,R(n[3]);case 10:r=e.sent,c=r.data,this.setState({data:this.mapToViewModel(c)});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mapToViewModel",value:function(e){return{_id:e._id,title:e.title,short:e.short,long:e.long,price:e.price,category:e.category._id}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"py-2"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h2",null,"Product Form"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("title","Title"),this.renderSelect("category","Category",this.state.categories),this.renderInput("short","Short Description"),this.renderTextarea("long","Long Description"),r.a.createElement("input",{className:"mb-2",type:"file",name:"image",onChange:function(t){return e.setState({file:t.target.files[0]})}}),this.renderInput("price","Price","number"),this.renderButton("Save"))))))}}]),t}(fe),Qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={number:0,total:0,cart:[]},a.handleAddToCard=function(e){var t=[].concat(Object(o.a)(a.state.cart),[e]);Me(t),a.setState({cart:t,number:t.length,total:a.calculateTotal()})},a.handleIncrement=function(e){var t=Object(o.a)(a.state.cart),n=a.state.cart.indexOf(e);e.quantity+=1,t[n]=e,Me(t),a.setState({cart:t,total:a.calculateTotal()})},a.handleDecrement=function(e){var t=Object(o.a)(a.state.cart),n=a.state.cart.indexOf(e);e.quantity<=1||(e.quantity-=1,t[n]=e,Me(t),a.setState({cart:t,total:a.calculateTotal()}))},a.handleRemove=function(e){var t=Object(o.a)(a.state.cart),n=t.indexOf(e);t.splice(n,1),Me(t),a.setState({cart:t,number:t.length,total:a.calculateTotal()})},a.calculateTotal=function(){var e=0;return(He()||[]).forEach(function(t){e+=t.quantity*t.price}),e},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=He()||[],t=function(){try{var e=localStorage.getItem(D);return P()(e)}catch(t){return null}}();this.setState({user:t,cart:e,number:e.length,total:this.calculateTotal()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.number;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{user:a,number:n}),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/products/edit/:id",component:Ye}),r.a.createElement(h.a,{path:"/products/new",component:Ye}),r.a.createElement(h.a,{path:"/products/:id",render:function(t){return r.a.createElement(Ce,Object.assign({},t,{user:a,onClick:e.handleAddToCard}))}}),r.a.createElement(h.a,{path:"/products",render:function(t){return r.a.createElement(X,Object.assign({},t,{onClick:e.handleAddToCard}))}}),r.a.createElement(h.a,{path:"/about",component:ie}),r.a.createElement(h.a,{path:"/contact",component:me}),r.a.createElement(h.a,{path:"/login",component:Ne}),r.a.createElement(h.a,{path:"/logout",component:Oe}),r.a.createElement(h.a,{path:"/register",component:we}),r.a.createElement(h.a,{path:"/profile",render:function(e){return r.a.createElement(De,Object.assign({},e,{user:a}))}}),r.a.createElement(h.a,{path:"/cart",render:function(t){return r.a.createElement(_e,Object.assign({},t,{cart:e.state.cart,total:e.state.total,user:a,onHandleIncrement:e.handleIncrement,onHandleDecrement:e.handleDecrement,onHandleRemove:e.handleRemove}))}}),r.a.createElement(h.a,{path:"/checkout",render:function(t){return r.a.createElement(Le,Object.assign({},t,{total:e.state.total}))}}),r.a.createElement(h.a,{path:"/thanks",component:We}),r.a.createElement(h.a,{path:"/dashboard",component:$e}),r.a.createElement(h.a,{path:"/",component:z})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(100),a(102),a(103),a(104),a(105),a(106);l.a.render(r.a.createElement(s.a,null,r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},11:function(e){e.exports={a:"https://cherry-pie-80014.herokuapp.com/api"}},44:function(e,t,a){e.exports=a.p+"static/media/sepiskver.2240a863.jpg"},45:function(e,t,a){e.exports=a.p+"static/media/keti.d9be641c.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/tamar.1a83d1ba.jpg"},47:function(e,t,a){e.exports=a.p+"static/media/cloth.f43ec3dc.jpg"},48:function(e,t,a){e.exports=a(107)}},[[48,1,2]]]);
//# sourceMappingURL=main.9e42e1e5.chunk.js.map